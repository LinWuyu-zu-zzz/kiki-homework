<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*  封装一个函数, 利用reduce处理http://www.baidu.com/?name=zhangsan&age=18&sex=nan# , 要求返回一个对象
            输出的结果 : { name:"zhangsan",age:18,sex:nan }   两种方法   */  

      // function process(url) {
      //   let reg = /([^?=&]+)(=([^&=#]*))/g;
      //   let str = url.match(reg);
      //   // console.log(str); //['name=zhangsan', 'age=18', 'sex=nan']
      //   return str.reduce(
      //     (acc, item) =>(
      //       (acc[item.slice(0, item.indexOf("="))] = item.slice(item.indexOf("=") + 1)),acc),{});
      // }
      // console.log(process("http://www.baidu.com/?name=zhangsan&age=18&sex=nan#"));
//----------------------------------------------------------------------------------------------
      function process(url) {
       let newArr = url.slice(url.indexOf('?')+1, url.indexOf('#')).split('&')
       
      //  console.log(url.indexOf('?')+1); // 索引为22的位置是n
      // console.log(url.indexOf('#'));  // 50
      // console.log(newArr); // ['name=zhangsan', 'age=18', 'sex=nan']

       const str = newArr.reduce((obj, cur) => {
        let [key,value] = cur.split('=')
        obj[key] = value
        console.log(key,value);  // key为name  value为zhangsan
        return obj
       },{})
       console.log(str);
      }
      console.log(process("http://www.baidu.com/?name=zhangsan&age=18&sex=nan#"));
    </script>
  </body>
</html>
